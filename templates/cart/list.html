{% extends "base.html" %}


{% block content %}
  <h1>Cart Page</h1>
  <ul>
    {% for item in object_list %}
      <li id="item-{{item.id}}" >
        {{ item.title }} price: {{ item.price }}
        <button
          hx-post="{{ item.remove_from_cart_url }}"
          hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
          hx-target="#item-{{item.id}}"
          hx-swap="outerHTML">
          Remove from cart
        </button>

      </li>
    {% empty %}
    <li> No items found in this cart</li>
    {% endfor %}
  </ul>


{% endblock %}
